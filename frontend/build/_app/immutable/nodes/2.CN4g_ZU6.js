import"../chunks/DsnmJJEf.js";import"../chunks/DlWC4716.js";import{o as Da,h as Ca,e as s,s as G}from"../chunks/C-cUeD8I.js";import{F as La,p as qa,b as ga,s as i,t as ua,a as fa,e as Ga,h as p,d as a,g as u,m as W,$ as Wa,r as e,n as Ka}from"../chunks/DVhLo0Kx.js";import{i as Pa}from"../chunks/Bj3ioQdl.js";import{s as Ua}from"../chunks/CkvfP5Cj.js";import{s as o}from"../chunks/D2fy3bMM.js";import{i as Ba}from"../chunks/CSakOhqG.js";import{a as Ea,s as Fa}from"../chunks/H2P4P_7E.js";import{p as Ja}from"../chunks/DNHlrJ5z.js";import{g as K}from"../chunks/Fs8NSvnN.js";function Na(f,d){var c=f.$$events?.[d.type],g=La(c)?c.slice():c==null?[]:[c];for(var l of g)l.call(this,d)}var Oa=ga('<div class="sidebar-overlay d-lg-none" role="button" tabindex="0"></div>'),Qa=ga('<div class="admin-layout"><nav><div class="sidebar-header text-center"><a href="/dashboard" class="sidebar-brand text-dark text-decoration-none"><i class="bi bi-mortarboard-fill fs-3 align-middle"></i> <span class="fs-5 fw-bold align-middle ms-2"></span></a></div> <ul class="nav nav-pills flex-column mb-auto"><li class="nav-item"><a href="/dashboard"><i class="bi bi-speedometer2"></i> Dashboard</a></li> <li><a href="/dashboard/siswa"><i class="bi bi-people"></i> Manajemen Siswa</a></li> <li><a href="/dashboard/izin"><i class="bi bi-journal-check"></i> Kelola Izin</a></li> <li><a href="/dashboard/kehadiran"><i class="bi bi-calendar-event"></i> Kehadiran Manual</a></li> <li><a href="/dashboard/laporan"><i class="bi bi-file-earmark-bar-graph"></i> Laporan</a></li> <li><a href="/dashboard/statistik"><i class="bi bi-bar-chart-line"></i> Statistik</a></li> <li><a href="/dashboard/qr-generator"><i class="bi bi-qr-code"></i> QR Generator</a></li></ul> <hr/> <div class="sidebar-footer dropdown"><a href="javascript:void(0);" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-person-circle fs-2 me-2"></i> <span class="fw-semibold"> </span></a> <ul class="dropdown-menu text-small shadow"><li><a class="dropdown-item" href="#">Pengaturan</a></li> <li><hr class="dropdown-divider"/></li> <li><button class="dropdown-item">Logout</button></li></ul></div></nav> <div class="main-content"><header class="main-header"><button class="btn btn-light d-lg-none"><i class="bi bi-list"></i></button> <div class="fw-bold d-lg-none mx-auto"></div> <div class="ms-auto dropdown"><a href="javascript:void(0);" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><strong class="me-2 d-none d-sm-block"> </strong> <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;"><b> </b></div></a> <ul class="dropdown-menu dropdown-menu-end text-small shadow"><li><a class="dropdown-item" href="#">Pengaturan</a></li> <li><hr class="dropdown-divider"/></li> <li><button class="dropdown-item">Logout</button></li></ul></div></header> <div class="page-content"><!></div> <footer class="main-footer">Made with <i class="bi bi-heart-fill text-danger"></i> by <a href="https://zazhil.my.id" target="_blank" class="fw-bold text-decoration-none">Zazhil Adhafi</a></footer></div> <!></div>');function se(f,d){qa(d,!1);const[c,g]=Ea(),l=()=>Fa(Ja,"$page",c);let _=W("..."),P=W(""),b=W(!1);Da(async()=>{{const r=localStorage.getItem("jwt_token");if(!r){K("/");return}try{const v=JSON.parse(atob(r.split(".")[1])).username;u(P,v.charAt(0).toUpperCase());const h=await fetch("http://localhost:1412/api/user/profile",{headers:{Authorization:"Bearer "+r}});if(!h.ok)throw new Error("Gagal mengambil profil.");const q=await h.json();u(_,q.namaLengkap||v)}catch(t){console.error("Gagal memproses token atau profil:",t),localStorage.removeItem("jwt_token"),K("/")}}});function U(){u(b,!p(b))}function n(){window.innerWidth<992&&u(b,!1)}function B(){localStorage.removeItem("jwt_token"),K("/")}Ba();var k=Qa();Ca(r=>{ua(t=>Wa.title=`${t??""} - SMA Islam Daarul Ilmi`,[()=>l().route.id?.split("/").pop()?.replace(/\[|\]/g,"")?.replace(/-/g," ")?.replace(/\b\w/g,t=>t.toUpperCase())||"Dashboard"])});var m=a(k);let E;var w=a(m),F=a(w),_a=i(a(F),2);_a.textContent="SMA Islam Daarul Ilmi",e(F),e(w);var x=i(w,2),y=a(x),J=a(y);let N;e(y);var I=i(y,2),O=a(I);let Q;e(I);var S=i(I,2),R=a(S);let V;e(S);var j=i(S,2),Z=a(j);let H;e(j);var $=i(j,2),T=a($);let X;e($);var M=i($,2),Y=a(M);let aa;e(M);var ea=i(M,2),ia=a(ea);let ta;e(ea),e(x);var sa=i(x,4),z=a(sa),la=i(a(z),2),ka=a(la,!0);e(la),e(z);var ra=i(z,2),oa=i(a(ra),4),wa=a(oa);e(oa),e(ra),e(sa),e(m);var A=i(m,2),D=a(A),na=a(D),da=i(na,2);da.textContent="SMA Islam Daarul Ilmi";var ca=i(da,2),C=a(ca),L=a(C),xa=a(L,!0);e(L);var va=i(L,2),pa=a(va),ya=a(pa,!0);e(pa),e(va),e(C);var ba=i(C,2),ma=i(a(ba),4),Ia=a(ma);e(ma),e(ba),e(ca),e(D);var ha=i(D,2),Sa=a(ha);Ua(Sa,d,"default",{}),e(ha),Ka(2),e(A);var ja=i(A,2);{var $a=r=>{var t=Oa();s("click",t,U),s("keypress",t,function(v){Na.call(this,d,v)}),s("keydown",t,()=>{}),fa(r,t)};Pa(ja,r=>{p(b)&&r($a)})}e(k),ua((r,t,v,h,q,Ma,za,Aa)=>{E=o(m,1,"sidebar",null,E,r),N=o(J,1,"nav-link",null,N,t),Q=o(O,1,"nav-link",null,Q,v),V=o(R,1,"nav-link",null,V,h),H=o(Z,1,"nav-link",null,H,q),X=o(T,1,"nav-link",null,X,Ma),aa=o(Y,1,"nav-link",null,aa,za),ta=o(ia,1,"nav-link",null,ta,Aa),G(ka,p(_)),G(xa,p(_)),G(ya,p(P))},[()=>({show:p(b)}),()=>({active:l().url.pathname==="/dashboard"}),()=>({active:l().url.pathname.startsWith("/dashboard/siswa")}),()=>({active:l().url.pathname==="/dashboard/izin"}),()=>({active:l().url.pathname.startsWith("/dashboard/kehadiran")}),()=>({active:l().url.pathname==="/dashboard/laporan"}),()=>({active:l().url.pathname==="/dashboard/statistik"}),()=>({active:l().url.pathname==="/dashboard/qr-generator"})]),s("click",J,n),s("click",O,n),s("click",R,n),s("click",Z,n),s("click",T,n),s("click",Y,n),s("click",ia,n),s("click",wa,B),s("click",na,U),s("click",Ia,B),fa(f,k),Ga(),g()}export{se as component};
