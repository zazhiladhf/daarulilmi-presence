import"../chunks/DsnmJJEf.js";import"../chunks/DlWC4716.js";import{o as V,h as W,e as X,s as C}from"../chunks/C-cUeD8I.js";import{p as Y,b as u,s,f as Z,t as S,h as e,a as n,e as aa,$ as ea,d as i,o as m,m as f,r as o,g as l,n as ra,i as ta}from"../chunks/DVhLo0Kx.js";import{i as O}from"../chunks/Bj3ioQdl.js";import{r as d}from"../chunks/BMwGc5xt.js";import{b as v}from"../chunks/CbjkAijc.js";import{p as sa}from"../chunks/D4Caz1gY.js";import{i as ia}from"../chunks/CSakOhqG.js";import{g as oa}from"../chunks/Fs8NSvnN.js";var la=u('<div class="alert alert-danger"> </div>'),na=u('<div class="alert alert-success"> </div>'),ma=u('<span class="spinner-border spinner-border-sm"></span> Menyimpan...',1),da=u('<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"><h1 class="h2">Tambah Siswa Baru</h1> <a href="/dashboard/siswa" class="btn btn-sm btn-outline-secondary"><i class="bi bi-arrow-left"></i> Kembali ke Daftar Siswa</a></div> <div class="row"><div class="col-lg-8"><div class="card shadow-sm"><div class="card-body"><!> <!> <form><div class="mb-3"><label for="nisn" class="form-label">NISN</label> <input type="text" class="form-control" id="nisn" required/></div> <div class="mb-3"><label for="nama_lengkap" class="form-label">Nama Lengkap</label> <input type="text" class="form-control" id="nama_lengkap" required/></div> <div class="mb-3"><label for="kelas" class="form-label">Kelas</label> <input type="text" class="form-control" id="kelas" required/></div> <div class="mb-3"><label for="kontak_ortu" class="form-label">Kontak Orang Tua</label> <input type="text" class="form-control" id="kontak_ortu" required/></div> <div class="mb-3"><label for="email_ortu" class="form-label">Email Orang Tua</label> <input type="email" class="form-control" id="email_ortu" required/></div> <button type="submit" class="btn btn-primary"><!></button></form></div></div></div></div>',1);function wa(G,J){Y(J,!1);let T="",r=f({NISN:"",NamaLengkap:"",Kelas:"",NomorTeleponOrtu:"",EmailOrtu:""}),p=f(!1),c=f(""),b=f("");V(()=>{T=localStorage.getItem("jwt_token")||""});async function P(){l(p,!0),l(c,""),l(b,"");try{const a=await fetch("http://localhost:1412/api/admin/siswa/tambah",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+T},body:JSON.stringify(e(r))}),t=await a.json();if(!a.ok)throw new Error(t.message||"Gagal menambahkan siswa.");l(b,t.message),setTimeout(()=>{oa("/dashboard/siswa")},2e3)}catch(a){l(c,a.message)}finally{l(p,!1)}}ia();var K=da();W(a=>{ea.title="Tambah Siswa Baru"});var q=s(Z(K),2),E=i(q),I=i(E),L=i(I),j=i(L);{var F=a=>{var t=la(),x=i(t,!0);o(t),S(()=>C(x,e(c))),n(a,t)};O(j,a=>{e(c)&&a(F)})}var M=s(j,2);{var H=a=>{var t=na(),x=i(t);o(t),S(()=>C(x,`${e(b)??""}. Anda akan diarahkan kembali...`)),n(a,t)};O(M,a=>{e(b)&&a(H)})}var _=s(M,2),g=i(_),B=s(i(g),2);d(B),o(g);var h=s(g,2),D=s(i(h),2);d(D),o(h);var k=s(h,2),$=s(i(k),2);d($),o(k);var w=s(k,2),A=s(i(w),2);d(A),o(w);var y=s(w,2),z=s(i(y),2);d(z),o(y);var N=s(y,2),Q=i(N);{var R=a=>{var t=ma();ra(),n(a,t)},U=a=>{var t=ta("Simpan Data Siswa");n(a,t)};O(Q,a=>{e(p)?a(R):a(U,!1)})}o(N),o(_),o(L),o(I),o(E),o(q),S(()=>N.disabled=e(p)),v(B,()=>e(r).NISN,a=>m(r,e(r).NISN=a)),v(D,()=>e(r).NamaLengkap,a=>m(r,e(r).NamaLengkap=a)),v($,()=>e(r).Kelas,a=>m(r,e(r).Kelas=a)),v(A,()=>e(r).NomorTeleponOrtu,a=>m(r,e(r).NomorTeleponOrtu=a)),v(z,()=>e(r).EmailOrtu,a=>m(r,e(r).EmailOrtu=a)),X("submit",_,sa(P)),n(G,K),aa()}export{wa as component};
